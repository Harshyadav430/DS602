<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Gender Prediction</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="container py-5">

    <div class="form-group">
        <label for="inputBox" class="font-weight-bold">Enter Name:</label>
        <input type="text" id="inputBox" class="form-control" placeholder="Type something..." oninput="runInference()">
    </div>

    <div id="result" class="alert alert-info mt-3">
        Prediction:
    </div>

    <script>
        function runInference() {
            const input = document.getElementById('inputBox').value;
            const prediction = predictOne(input);

            document.getElementById('result').textContent = `Prediction: ${prediction}`;
        }

        function predictOne(name) {// if the input is not a valid string return M
            if (typeof name !== 'string') return 'M';

            name = name.trim().toLowerCase();

            if (name.length === 0) return 'M';

            // strong female ending 
            if (name.endsWith('a') || name.endsWith('ie') || name.endsWith('y')) {
                return 'F';
            }

            // Strong male endings
            if (name.endsWith('k') || name.endsWith('d') || name.endsWith('n') || name.endsWith('r')) {
                return 'M';
            }

            // General vowel rule
            if ('aeiou'.includes(name[name.length - 1])) {
                return 'F';
            }

            return 'M';
        }
    </script>

</body>
</html>
